"use strict";function _instanceof(t,e){return null!=e&&"undefined"!=typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):t instanceof e}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}exports.__esModule=!0,exports.DatepickerScriptUtils=exports.DatepickerScript=exports.DatepickerScriptDay=void 0;var DatepickerScript=function(){function t(t){void 0===t&&(t={}),this._date=null,this.data=[],this.listener=t.listener||void 0,this.utilsClass=t.utilsClass||DatepickerScriptUtils,this._utilInternal=new DatepickerScriptUtils;var e=t.dayClass;if(e)if(DatepickerScriptDay.isPrototypeOf(e))this.dayClass=e;else{var i=e.name;console.warn("["+i+"] class needs to extend DatepickerScriptDay. dayClass will default to DatepickerScriptDay class!"),this.dayClass=DatepickerScriptDay}else this.dayClass=DatepickerScriptDay;this.setDate=t.date||null}var e=t.prototype;return e.nextMonth=function(t,e){return void 0===t&&(t=this.getMonth+1),void 0===e&&(e=this.getFullYear),this.setDate={year:e,month:t,day:1},this.computePanel(t,e),this},e.prevMonth=function(t,e){return void 0===t&&(t=this.getMonth-1),void 0===e&&(e=this.getFullYear),this.setDate={year:e,month:t,day:1},this.computePanel(t,e),this},e.setDayInstanceItem=function(t,e){var i=new Date(Date.UTC(this.getFullYear,t,e));return new this.dayClass(i,this.listener,new this.utilsClass(i))},e.clear=function(){var t=this;this.data.forEach(function(e){e&&_instanceof(e,t.dayClass)&&e._listener&&e.removeListener()}),this.data=[]},e.computePanel=function(t,e){void 0===t&&(t=this.getMonth),void 0===e&&(e=this.getFullYear),this.clear();var i=this._utilInternal,n=i.getMonthDays,a=i.getEnumDays,s=i.getDayStrName,r=new Date(Date.UTC(e,t,1)),o=n(this._date),h=s(r);if("mon"!==h)for(var l=a(h),c=0===this.getMonth?o[11]:o[t-1],u=c-l,d=c;d>u;d--)this.data.unshift(this.setDayInstanceItem(t-1,d));for(var p=o[t],f=1;f<=p;f++)this.data.push(this.setDayInstanceItem(t,f));for(var D=42-this.data.length,y=1;y<=D;y++)this.data.push(this.setDayInstanceItem(t+1,y));return this},e.formatMatrixGrid=function(){for(var t=[[],[],[],[],[],[],[]],e=this.data.length,i=0,n=0;i<e;i++){var a=t[n],s=a.length,r=this.data[i];6!==s?a.push(r):(a.push(r),n++)}return t},_createClass(t,[{key:"getFullYear",get:function(){return this._date&&_instanceof(this._date,Date)&&this._date.getFullYear()}},{key:"getMonth",get:function(){return this._date&&_instanceof(this._date,Date)&&this._date.getMonth()}},{key:"setDate",set:function(t){if(void 0===t&&(t=null),t){var e=t,i=e.year,n=e.month,a=e.day;this._date=new Date(i,n,a)}else this._date=new Date}}]),t}();exports.DatepickerScript=DatepickerScript;var DatepickerScriptDay=function(){function t(t,e,i){void 0===t&&(t={}),void 0===e&&(e=function(){return{}}),void 0===i&&(i=null),this.date=t,this._listener=e,this.el=null,this._bindedLst=null,this.utils=i}var e=t.prototype;return e._listenerFn=function(t){this._listener(this,t)},e.addToListener=function(t){this.el=t,this._bindedLst=this._listenerFn.bind(this),this._listener&&"function"==typeof this._listener&&this.el.addEventListener("click",this._bindedLst,!0)},e.removeListener=function(){this.el&&this._listener&&this._bindedLst&&this.el.removeEventListener("click",this._bindedLst,!0)},t}();exports.DatepickerScriptDay=DatepickerScriptDay;var DatepickerScriptUtils=function(){function t(t){this.date=t}var e=t.prototype;return e.getEnumDays=function(t){var e={mon:0,tue:1,wed:2,thu:3,fri:4,sat:5,sun:6};return t in e?e[t]:e},e.getDayStrName=function(t){return(t||this.date).toDateString().slice(0,3).toLowerCase()},e.getDay=function(t){return(t||this.date).toDateString().slice(8,10)},e.getYear=function(t){return(t||this.date).getFullYear()},e.getMonth=function(t){return t.getMonth()},e.getMonthDays=function(t,e){void 0===e&&(e=null);var i=[31,(t||this.date).getFullYear()%4==0?29:28,31,30,31,30,31,31,30,31,30,31];return e?i[e]:i},e.isToday=function(t){return(t||this.date).toDateString()===(new Date).toDateString()},e.getOffsetFromYearStartToToday=function(t){for(var e=t||this.date,i=this.getMonthDays(e.getFullYear()).slice(),n=e.getMonth(),a=0;n--;){a+=i[n]}var s=this.getDay(e);return Math.floor(a-s)},t}();exports.DatepickerScriptUtils=DatepickerScriptUtils;